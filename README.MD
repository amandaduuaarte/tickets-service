# Ticket - Service ğŸ’»

## Explicando o projeto: ğŸ¯
MicroServiÃ§o de validaÃ§Ã£o de compras de ingressos para eventos, o projeto consiste em um sistema simples de verificaÃ§Ã£o basicamente funciona como um MS que deve ser integrado a outros serviÃ§os jÃ¡ que sua resposabilidade por ora Ã© validar se todos os dados do comprador e do evento estÃ£o de acordo com o esperado e com isso realizar o envio de um email para o endereÃ§o fornecido pelo possÃ­vel comprador, alÃ©m de tambÃ©m criar eventos passando por uma validaÃ§Ã£o de dados. 

### Funcionalidades jÃ¡ implementadas: ğŸ¤“
* Token vÃ¡lido: Hoje a aplicaÃ§Ã£o conta com uma validaÃ§Ã£o de token, ou seja, a rota para confirmar compra precisa de um token vÃ¡lido.
* Envio de email: O projeto utiliza de um serviÃ§o para que possa ser feito o disparo de email para o endereÃ§o informado no payload recebido.
* Cadastro de eventos: Hoje a aplicaÃ§Ã£o conta com uma rota post que serve para criaÃ§Ã£o dos eventos.


### Techs usadas: âœ… 
* Node JS.
* TypeScript.
* Express -> usado como web application framework para a criaÃ§Ã£o do projeto.
* RabbitMQ -> Para a realizaÃ§Ã£o de comunicaÃ§Ã£o assÃ­ncrona, simulando o consumo de outro MS das mensagens em fila para que houvesse o disparo de email.
* Nodemailer -> Usado para auxilixar no envio de email.
* Yup -> ValidaÃ§Ã£o dos parÃ¢metros recebidos em rota, usado como uma camada a mais.
* Docker -> Para a criaÃ§Ã£o do banco usado na aplicaÃ§Ã£o e tambÃ©m de toda a infra do rabbitmq.

### Estrutura do projeto e decisoes tomadas: 
- [Como o projeto estÃ¡ estruturado?](./STRUCTURE.MD) eu explico um pouco da estrutura do projeto com o objetivo de tornar clara e simples a forma que a aplicaÃ§Ã£o estÃ¡ estruturada, falando um pouco sobre decisoes
que tomei para chegar nesse padrÃ£o usado.  
### Rotas da aplicaÃ§Ã£o: ğŸ—ºï¸
Post -> `api/event-purchase` 
    </br>
payload: 
       ```json
       {
		"eventId": "01",
        "ownerName": "Name",
        "contact": {
        "email": "email@email.com",
        "phoneNumber": "123456789"
        },
        "eventDetails": {
        "area": "vip",
        "quantity": 10  
        }
    }```

Post -> `api/create-event` 
    </br>
payload: 
       ```json
    {
        "name": "MusicEvent",
        "description": "Evento de mÃºsica.",
        "type": "musica",
        "place": "Fortaleza, CE",
        "owner": "Amanda",
        "date": "2023-11-30 20:00:00",
        "front": 340,
        "pista": 450,
        "vip": 500,
        "event_config": {"areas": [{"name": "front", "quantity": 500}, {"name": "vip", "quantity": 200}, 	{"name": "pista", "quantity": 1300}]}
    }```
    
Post -> `/api/auth`
</br>
payload: client-token


### O que pude aprender com esse projeto: ğŸ“š
* Aprendi durante o desenvolvimento desse projeto sobre formas melhores de estruturar uma aplicaÃ§Ã£o node js, tentei aplicar uma arquitetura limpa usando conhecimentos que estou estudando e implementando da forma que julguei necessÃ¡rio e que consegui entender a real motivaÃ§Ã£o. 
* Um pouco sobre o partner factory, conseguindo desacoplar algumas implementaÃ§Ãµes que julguei necessÃ¡rio tornando partes do cÃ³digo um pouco mais independentes entre si. Optei por desenvolver a principal funcionalidade do projeto antes da implementaÃ§Ã£o desse padrÃ£o para que eu pudesse ver os problemas que surgiram e entender a razÃ£o do factory.
* ConfiguraÃ§Ã£o e implementaÃ§Ã£o da comunicaÃ§Ã£o por messageria com rabbitmq. 

### Como rodar o projeto? âš™ï¸
1 -Rode `Yarn ou npm i` dentro do terminal do projeto.
 </br>
 2 - Rode `docker-compose up` para que os containers sejam criados.
 </br>
 3 - `yarn debug:watch`

