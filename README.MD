# Ticket - Service ğŸ’»

## Explicando o projeto: ğŸ¯
MicroServiÃ§o de validaÃ§Ã£o de compras de ingressos para eventos, o projeto consiste em um sistema simples de verificaÃ§Ã£o basicamente funciona como um MS que deve ser integrado a outros serviÃ§os jÃ¡ que sua resposabilidade por ora Ã© validar se todos os dados do comprador e do evento estÃ£o de acordo com o esperado e com isso realizar o envio de um email para o endereÃ§o fornecido pelo possÃ­vel comprador.

### Funcionalidades jÃ¡ implementadas: ğŸ¤“
* Token vÃ¡lido: Hoje a aplicaÃ§Ã£o conta com uma validaÃ§Ã£o de token, ou seja, a rota para confirmar compra precisa de um token vÃ¡lido.
* Envio de email: O projeto utiliza de um serviÃ§o para que possa ser feito o disparo de email para o endereÃ§o informado no payload recebido.


### Techs usadas: âœ… 
* Node JS.
* TypeScript.
* Express -> usado como web application framework para a criaÃ§Ã£o do projeto.
* RabbitMQ -> Para a realizaÃ§Ã£o de comunicaÃ§Ã£o assÃ­ncrona, simulando o consumo de outro MS das mensagens em fila para que houvesse o disparo de email.
* Nodemailer -> Usado para auxilixar no envio de email.
* Yup -> ValidaÃ§Ã£o dos parÃ¢metros recebidos em rota, usado como uma camada a mais.
* Docker -> Para a criaÃ§Ã£o do banco usado na aplicaÃ§Ã£o e tambÃ©m de toda a infra do rabbitmq.


### Rotas da aplicaÃ§Ã£o: ğŸ—ºï¸
Post -> `api/event-purchase` 
    </br>
payload: 
       ```json
       {
		"eventId": "01",
        "ownerName": "Name",
        "contact": {
        "email": "email@email.com",
        "phoneNumber": "123456789"
        },
        "eventDetails": {
        "area": "vip",
        "quantity": 10  
        }
    }```
    
Post -> `/api/auth`
</br>
payload: client-token


### O que pude aprender com esse projeto: ğŸ“š
* Aprendi durante o desenvolvimento desse projeto sobre formas melhores de estruturar uma aplicaÃ§Ã£o node js, tentei aplicar uma arquitetura limpa usando conhecimentos que estou estudando e implementando da forma que julguei necessÃ¡rio e que consegui entender a real motivaÃ§Ã£o. 
* Um pouco sobre o partner factory, conseguindo desacoplar algumas implementaÃ§Ãµes que julguei necessÃ¡rio tornando partes do cÃ³digo um pouco mais independentes entre si. Optei por desenvolver a principal funcionalidade do projeto antes da implementaÃ§Ã£o desse padrÃ£o para que eu pudesse ver os problemas que surgiram e entender a razÃ£o do factory.
* ConfiguraÃ§Ã£o e implementaÃ§Ã£o da comunicaÃ§Ã£o por messageria com rabbitmq. 

### Como rodar o projeto? âš™ï¸
1 -Rode `Yarn ou npm i` dentro do terminal do projeto.
 </br>
 2 - Rode `docker-compose up` para que os containers sejam criados.
 </br>
 3 - `yarn debug:watch`
